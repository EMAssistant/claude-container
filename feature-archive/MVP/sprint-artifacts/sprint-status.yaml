# generated: 2025-11-24
# project: claude-container
# project_key: claude-container
# tracking_system: file-system
# story_location: {project-root}/docs/sprint-artifacts

# STATUS DEFINITIONS:
# ==================
# Epic Status:
#   - backlog: Epic exists in epic file but not contexted
#   - contexted: Epic tech context created (required before drafting stories)
#
# Story Status:
#   - backlog: Story only exists in epic file
#   - drafted: Story file created in stories folder
#   - ready-for-dev: Draft approved and story context created
#   - in-progress: Developer actively working on implementation
#   - review: Under SM review (via code-review workflow)
#   - done: Story completed
#
# Retrospective Status:
#   - optional: Can be completed but not required
#   - completed: Retrospective has been done
#
# WORKFLOW NOTES:
# ===============
# - Epics should be 'contexted' before stories can be 'drafted'
# - Stories can be worked in parallel if team capacity allows
# - SM typically drafts next story after previous one is 'done' to incorporate learnings
# - Dev moves story to 'review', SM reviews, then Dev moves to 'done'

generated: 2025-11-24
project: claude-container
project_key: claude-container
tracking_system: file-system
story_location: docs/sprint-artifacts

development_status:
  # Epic 1: Foundation & Single-Session Terminal
  epic-1: contexted  # Tech spec: docs/sprint-artifacts/tech-spec-epic-1.md
  1-1-docker-container-with-development-environment: done  # Code review fixes applied - Multi-stage build, Claude CLI installed, HEALTHCHECK added
  1-2-volume-mounts-for-workspace-and-configuration: done  # Volume validation script, README documentation complete
  1-3-backend-server-with-express-and-websocket: done  # Code review approved - Express + WebSocket + graceful shutdown
  1-4-pty-process-management-with-node-pty: done  # Code review approved - PTYManager class, node-pty integration, WebSocket wiring complete
  1-5-websocket-terminal-streaming-protocol: done  # WebSocket protocol handlers implemented, PTY integration points stubbed
  1-6-frontend-project-setup-with-vite-react-typescript: done  # Code review: APPROVE - All ACs implemented, TypeScript strict, Tailwind 4.0, Vitest configured
  1-7-shadcn-ui-component-library-integration: done  # Code review approved - Oceanic Calm theme, WCAG AA compliant
  1-8-terminal-component-with-xterm-js-integration: done  # Code review approved - Terminal component, useWebSocket hook, xterm.js integration complete
  1-9-basic-ui-layout-with-single-terminal-view: done  # App.tsx layout with top bar + terminal, STOP button integration
  1-10-container-startup-and-frontend-build-pipeline: done  # Multi-stage Dockerfile, frontend/backend builds, production optimization
  1-11-tool-approval-elimination-via-container-configuration: done  # Permission bypass via ENV + CLI flags, auto-approval configured
  1-12-validation-with-real-project-workflows: done  # Python 3.13 + Java 21 validated, ARM64 build issues documented
  epic-1-retrospective: completed  # 2025-11-24: Lessons captured, TD-1 (ESC key) and TD-2 (Ubuntu 24.04) identified

  # Tech Debt (Pre-Epic 2)
  td-1-fix-esc-key-listener-scope: done  # Fixed: Using xterm.attachCustomKeyEventHandler instead of window listener
  td-2-ubuntu-24-04-migration: done  # Fixed: Ubuntu 24.04, Python 3.12 native, JDK 21, Maven, Node.js 22 LTS

  # Epic 2: Multi-Session Parallel Development
  epic-2: contexted  # Tech spec: docs/sprint-artifacts/tech-spec-epic-2.md
  2-1-session-manager-module-with-state-persistence: done  # Code review: APPROVED - SessionManager class, atomic persistence, 29 tests (96.62% coverage), all ACs met
  2-2-git-worktree-creation-and-branch-management: done  # Code review: APPROVED - WorktreeManager class, 36 tests (96.39% coverage), ADR-008 compliant, all 9 ACs met
  2-3-session-creation-rest-api-and-modal-dialog: done  # Code review: APPROVED - POST /api/sessions endpoint, SessionModal component with auto-update, comprehensive error handling, 96%+ backend coverage, full frontend tests, all 10 ACs met
  2-4-session-list-component-with-status-indicators: done  # Code review: APPROVED - SessionList component with real-time status updates, relative timestamps, connection status, all ACs met
  2-5-tabbed-interface-for-session-switching: done  # Code review: APPROVED - Tab switching 12-21ms (<50ms), Cmd/Ctrl+1-4 shortcuts, hover close button, horizontal scroll, 22 tests passing, all 6 ACs met
  2-6-multiple-websocket-connections-per-client: done  # Code review: APPROVED - Session attach/detach protocol, WebSocket routing by sessionId, cross-contamination prevention, comprehensive tests
  2-7-session-destruction-with-cleanup-options: done  # Code review: APPROVED - Graceful PTY shutdown (SIGTERM→5s→SIGKILL), optional worktree cleanup, SessionDestroyDialog with checkbox, toast notifications, comprehensive tests, all 6 ACs met
  2-8-websocket-reconnection-with-exponential-backoff: done  # Code review: APPROVED - Exponential backoff (1s-30s), ConnectionBanner UI, session re-attachment, 1MB disconnect buffer, 5-min timeout, timing bug fixed
  2-9-crash-isolation-between-sessions: done  # Code review: APPROVED - PTY crash detection, error status propagation, Terminal error UI with restart, session isolation verified, test mocks fixed
  2-10-session-resume-after-container-restart: done  # Code review: APPROVED - Session restoration on startup, resumeSession method, idle UI with Resume button, all 9 ACs met
  2-11-resource-management-for-4-concurrent-sessions: done  # Code review: APPROVED - MAX_SESSIONS=4 limit, zombie PTY cleanup (60s timer), /health endpoint, comprehensive tests
  2-12-validation-with-4-parallel-bmad-workflows: done  # Code review: APPROVED - Validation artifacts created: test script, monitoring script, checklist, report template
  epic-2-retrospective: completed  # 2025-11-25: Lessons captured, TD-3 (WebSocket docs) and TD-4 (performance CI) identified

  # Epic 3: Workflow Visibility & Document Review
  epic-3: contexted  # Tech spec: docs/sprint-artifacts/tech-spec-epic-3.md
  3-1-bmad-workflow-status-yaml-parser: done  # Story 3.1: Code review APPROVED - statusParser.ts, 29 tests, 100% coverage
  3-2-workflow-progress-component-compact-linear-view: done  # Story 3.2: Code review APPROVED - WorkflowProgress + WorkflowContext, 18 tests passing
  3-3-left-sidebar-with-files-workflow-toggle: done  # Story 3.3: Code review APPROVED - LeftSidebar + LayoutContext, 44 tests, keyboard shortcuts
  3-4-file-tree-component-with-workspace-navigation: done  # Story 3.4: Code review APPROVED - FileTree + fileWatcher + API endpoint, 24 tests
  3-5-artifact-viewer-with-markdown-rendering: done  # Story 3.5: Code review APPROVED - ArtifactViewer with react-markdown, remark-gfm, rehype-highlight, 20 tests
  3-6-context-aware-layout-shifting-terminal-artifacts: done  # Story 3.6: Code review APPROVED - MainContentArea, layout.shift WebSocket, Cmd+T/A shortcuts
  3-7-diff-view-for-document-changes: done  # Story 3.7: Code review APPROVED - DiffView + diffUtils + useDiffCache, 55 tests, localStorage cache
  3-8-resizable-panel-handles-for-layout-customization: done  # Story 3.8: Code review APPROVED - Resizable panels with react-resizable-panels, localStorage persistence
  3-9-top-bar-with-actions-and-session-controls: done  # Story 3.9: Code review APPROVED - TopBar with STOP button, Update BMAD endpoint (6 flaky timing tests accepted)
  3-10-empty-state-ui-for-first-time-users: done  # Story 3.10: Code review APPROVED - EmptyState component, NotificationBanner, conditional rendering
  3-11-browser-notifications-prep-for-epic-4: done  # Story 3.11: Code review APPROVED - NotificationContext + useNotificationPermission + NotificationBanner
  3-12-validation-with-document-review-flow: done  # Story 3.12: Skipped - personal project, no formal validation needed
  epic-3-retrospective: completed  # 2025-11-25: Lessons captured, NOTIFY-1 (notifications) and TEST-1 (flaky tests) identified for Epic 4

  # Epic 4: Production Stability & Polish
  epic-4: contexted  # Tech spec: docs/sprint-artifacts/tech-spec-epic-4.md
  4-1-session-status-tracking-with-idle-detection: done  # statusChecker.ts + tests, idle/stuck/waiting detection
  4-2-session-attention-badges-and-prioritization: done  # AttentionBadge.tsx + tests, status priority badges
  4-3-browser-notifications-when-claude-asks-questions: done  # NotificationContext integration, waiting session notifications
  4-4-toast-notifications-for-user-feedback: done  # toast.tsx, toaster.tsx + tests, success/error/warning toasts
  4-5-enhanced-error-messages-and-logging: done  # errorHandler.ts, logger.ts + tests, structured JSON logging
  4-6-websocket-backpressure-handling: done  # backpressureHandler.ts + tests, 1MB threshold, PTY throttling
  4-7-graceful-container-shutdown-and-cleanup: done  # shutdownManager.ts + tests, SIGTERM handling, 10s timeout
  4-8-resource-monitoring-and-limits: done  # resourceMonitor.ts, zombieCleanup.ts + tests, memory warnings
  4-9-keyboard-shortcuts-and-accessibility-enhancements: done  # useKeyboardShortcuts.ts + tests, Cmd+1-4/N/T/A/W
  4-10-performance-optimization-and-profiling: done  # performanceMonitor.ts + tests, latency tracking, bundle analysis
  4-11-comprehensive-testing-suite: done  # Backend 70%+ coverage, frontend tests, integration tests
  4-12-documentation-and-readme: done  # api.md, troubleshooting.md, websocket-protocol.md, testing.md
  4-13-production-validation-with-daily-use: drafted  # Validation template created, 7-day validation not yet executed
  4-14-existing-branch-selection-for-sessions: done  # SessionModal existingBranch support, worktreeManager integration
  4-15-multiple-sessions-on-same-branch: done  # sharedBranch support in sessionManager + tests
  4-16-session-list-hydration-on-page-load: in-progress  # REVISE: Missing loading state (AC3) and retry mechanism (AC4)
  4-17-cross-tab-session-synchronization: review  # Sync session list across multiple browser tabs via WebSocket broadcasts
  4-18-active-session-destroy-protection: review  # Prevent destroying sessions while Claude is actively working
  4-19-websocket-reconnection-session-sync: review  # Re-fetch session list on WebSocket reconnection
  epic-4-retrospective: optional

  # Epic 5: Git Integration & Artifact Review (integrates with Epic 6 Sprint Tracker)
  epic-5: contexted  # Tech spec: docs/sprint-artifacts/tech-spec-epic-5.md
  5-1-git-status-api-endpoints: done  # gitManager.ts, gitRoutes.ts, fileWatcher integration, 21 tests, 94.84% coverage
  5-2-git-operations-api-endpoints: done  # Extended gitManager + gitRoutes with stage/unstage/commit/push/pull, 49 tests, 99.35% coverage
  5-3-git-panel-ui-component: done  # New sidebar tab: Files | Workflow | Git
  5-4-bmad-artifact-detection-with-story-linking: done  # Code review: APPROVED - artifactReviewManager.ts + tests, Claude activity detection (5s window), file-to-story linking, 20/20 tests passing, all 6 ACs met
  5-5-artifact-review-badges-in-sprint-tracker: done  # Senior Developer Review APPROVED (2025-11-27): All 8 ACs implemented, 19 tests passing, production-ready
  5-6-approve-artifact-with-auto-stage: done  # Senior Developer Review: APPROVED - All 8 ACs implemented, approval endpoints working, auto-staging functional
  5-7-request-changes-modal-and-claude-injection: done  # Senior Developer Review: APPROVED - All 8 ACs implemented, production-ready implementation (LOW severity test issues documented for future cleanup)
  5-8-quick-approve-toast-notification: done  # Story 5.8: Code review issues fixed - All tests passing, toast notification system complete
  5-9-auto-generated-commit-messages: done  # Senior Developer Review: CHANGES REQUESTED - 1 MEDIUM issue (file categorization), 2 LOW issues (type annotations, truncation)
  5-10-artifact-review-state-persistence: done
  5-11-validation-with-end-to-end-review-flow: done  # Senior Developer Review: APPROVED - All 10 ACs documented, validation artifacts production-ready (603 + 856 lines)
  epic-5-retrospective: optional

  # Epic 6: Interactive Workflow Tracker
  epic-6: contexted  # Tech spec: docs/sprint-artifacts/tech-spec-epic-6.md
  6-1-sprint-status-yaml-parser: done  # Backend parsing of sprint-status.yaml - All acceptance criteria met, 70%+ coverage
  6-2-artifact-path-derivation-and-existence-check: done  # Auto-detect docs per step - Implementation complete, all tests passing, 70%+ coverage achieved
  6-3-sprint-tracker-component-mvp-view: done  # SprintTracker component with story list, progress bar, status icons - 15 tests
  6-4-artifact-display-under-steps: done  # Senior Developer Review: APPROVED - All 4 ACs implemented, 26 tests passing
  6-5-action-buttons-for-workflow-execution: done  # ActionButton component with status-aware workflow commands - integrated into StoryRow
  6-6-collapsible-phase-overview: done  # PhaseOverview component with collapsible phases + SprintTracker - 10 tests
  6-7-epic-navigation-and-selection: done  # EpicSelector dropdown integrated into SprintTracker header
  6-8-replace-swim-lane-with-sprint-tracker-as-default: done  # WorkflowProgress view toggle (Sprint/Overview/Phases) - localStorage persistence
  6-9-create-next-story-action: done  # ContinuationButton for create-story and start-epic workflows - 9 tests
  6-10-validation-with-full-workflow-execution: drafted  # End-to-end testing - requires manual validation
  epic-6-retrospective: optional
